"use strict";(self.webpackChunkapp_efnol=self.webpackChunkapp_efnol||[]).push([[268],{7268:(at,V,n)=>{n.r(V),n.d(V,{ViewsOrchestrationModule:()=>d});var r,a=n(6895),y=n(1955),N=n(2999),x=n(2323),b=n(6258),R=n(655),e=n(1571),T=n(4767),Y=n(6911),M=n(9364),U=n(1568);let f=((r=class extends M.K{constructor(){super(...arguments),this.onSubmit=new e.vpe}}).\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(r)))(o||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-kin-view-not-found"]],inputs:{prefill:"prefill"},outputs:{onSubmit:"onSubmit"},standalone:!0,features:[e.qOj,e.jDz],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"app-kin-page-not-found")},dependencies:[a.ez,T.PageNotFoundModule,U.r],changeDetection:0}),r);f=(0,R.gn)([(0,Y.R)({label:"View Not Found Component"})],f);var j=n(7216),B=n(1449),E=n(5469),D=n(4006),m=n(3050);class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[a.ez,D.UX,m.zS,m.h8,m.Dt,m.HZ]});var P=n(2107),X=n(4568),z=n(9078),H=n(2010),Z=n(464),J=n(885),g=n(6551),I=n(1466),C=n(7579),Q=n(1135),S=n(2722),K=n(3504),G=n(9841),L=n(5698),O=n(3905),W=n(3828),A=n(6377),F=n(7746),$=n(6003);class l{get loadedView(){return this._loadedView}constructor(t,o,s,p){this.viewContainerRef=t,this.store=o,this.router=s,this.viewNavigationService=p,this.unSubAll$=new C.x,this.storeStream$=this.store.select(A.Pp)}ngOnDestroy(){this.viewContainerRef.clear(),this.unSubAll$.next(),this.unSubAll$.complete()}loadView(t){if(t){const{prefillSelector:o}=t;(0,G.a)([this.store.select(A.Pp),this.store.select(W.Vr),...o?[this.store.select(o)]:[]]).pipe((0,L.q)(1),(0,S.R)(this.unSubAll$)).subscribe(([s,p,w])=>{const v=this.createComponent(t);v&&(v.claimNoticeState=s,v.claimConfigState=p,w&&(v.prefill=w))})}else console.warn("component reference empty, nothing loaded or removed")}destroyLoadedView(){this.unSubAll$.next(),this.viewContainerRef.clear()}reactToOnExitEvent(t){t?.pipe((0,S.R)(this.unSubAll$)).subscribe(o=>{this.router.navigateByUrl(o.routeUrl,{state:o.routeState}),this.store.dispatch((0,O.hl)())})}reactToOnSubmitEvent(t){t?.pipe((0,S.R)(this.unSubAll$)).subscribe(o=>{this.store.dispatch((0,O.ow)({formData:o})),this.viewNavigationService.canMoveForward()?this.viewNavigationService.moveForward():this.router.navigateByUrl("/processing")})}createComponent(t){return this._loadedView&&this.destroyLoadedView(),this._loadedView=this.viewContainerRef.createComponent(t),this.reactToOnSubmitEvent(this._loadedView.instance.onSubmit),this.reactToOnExitEvent(this._loadedView.instance.onExit),this._loadedView.instance}}l.\u0275fac=function(t){return new(t||l)(e.Y36(e.s_b),e.Y36(F.yh),e.Y36(g.F0),e.Y36($.R))},l.\u0275dir=e.lG2({type:l,selectors:[["","appKinOrchestrationViewHost",""]]});var k=n(8624),q=n(3361),_=n(4997);function tt(i,t){1&i&&e._UZ(0,"div",4),2&i&&e.Q6J("@fadeInOutOfExistence",void 0)}function et(i,t){}class u{constructor(t,o,s,p,w,v,it,st){this.store=t,this.router=o,this.ref=s,this.viewportScroller=p,this.viewNavigationService=w,this.authService=v,this.sessionStorage=it,this.document=st,this.translateXAnimationState=0,this.unSubAll$=new C.x,this.viewOptionsSubject$=new Q.X({}),this.viewOptions$=this.viewOptionsSubject$.asObservable()}ngOnInit(){const t=this.sessionStorage.getItem(k.iW);this.authService.isSessionActive()&&t&&t.length>1&&this.restoreSession(t),this.viewNavigationService.navigationState$.pipe((0,S.R)(this.unSubAll$)).subscribe(o=>{this.reactToViewNavigationChanges(o)})}ngOnDestroy(){this.unSubAll$.next(),this.unSubAll$.complete(),this.viewOptionsSubject$.complete()}reactToViewNavigationChanges(t){this.changeViewComponent(t),this.translateXAnimationState=t.previousViews.length}changeViewComponent(t){const o=q.B.get(t.currentView?.componentUniqueId)??f;this.viewHost.loadedView?.instance instanceof o||(this.viewHost.loadView(o),this.viewOptionsSubject$.next(o.options),this.ref.markForCheck(),setTimeout(()=>{this.viewportScroller.scrollToPosition([0,0]),this.document.activeElement?.blur(),this.document.defaultView?.focus()}))}restoreSession(t){const o=JSON.parse(t);this.store.dispatch((0,O.cl)({formData:o.formData,config:o.config}))}}u.\u0275fac=function(t){return new(t||u)(e.Y36(F.yh),e.Y36(g.F0),e.Y36(e.sBO),e.Y36(a.EM),e.Y36($.R),e.Y36(_.r),e.Y36(m.EA),e.Y36(a.K0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-kin-orchestration-container"]],viewQuery:function(t,o){if(1&t&&e.Gf(l,7),2&t){let s;e.iGM(s=e.CRH())&&(o.viewHost=s.first)}},decls:5,vars:4,consts:[["class","view-background view-background__half-ellipse",4,"ngIf"],[1,"container"],["appKinOrchestrationViewHost",""],["mode","body"],[1,"view-background","view-background__half-ellipse"]],template:function(t,o){if(1&t&&(e.YNc(0,tt,1,1,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.YNc(3,et,0,0,"ng-template",2),e.qZA(),e._UZ(4,"app-kin-back-button",3)),2&t){let s;e.Q6J("ngIf","circle"===(null==(s=e.lcZ(1,2,o.viewOptions$))?null:s.background)),e.xp6(2),e.Q6J("@routeTranslateX",o.translateXAnimationState)}},dependencies:[a.O5,y.c,l,a.Ov],styles:[".container[_ngcontent-%COMP%]{padding:1.5rem;max-width:96rem;margin:0 auto;position:relative}@media only screen and (min-width: 992px){.container[_ngcontent-%COMP%]{padding:4.375rem 1.5rem 1.5rem}}"],data:{animation:[I.PO,K.U]},changeDetection:0});const nt=[{path:"",component:u,data:{transitionAnimation:"translateX"}}];class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[g.Bz.forChild(nt),g.Bz]});var ot=n(1913);class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[a.ez,h,f,b.Z,y.c,N.g,B.P,E.g,X.V,H.W,Z.g,z.n,J.F,c,j.x,x.z,ot.X,P.S]})}}]);